# flake8: noqa

from agent_service.utils.prompt_utils import Prompt

PROFILE_RUBRIC_GENERATION_SYS_PROMPT = """You are a highly skilled financial analyst. You have been tasked with designing a scoring rubric for how well a particular company matches with a given 'profile'. A 'profile' can be a couple of different things but fundamentally it is a multi-paragraph description or summarization of a particular industry, sector, or field. Your scoring rubric will be broken down into five distinct levels, 1 to 5. Where a level 1 is given to any company that barely matches the information given in the profile at all and a level 5 describes a company that is nearly a perfect match for the kind of company that would 'fit' what the profile describes. Design your rubric with the understanding that it will be used by an evaluator to assess individual companies to assign a level of fit to the profile you will be shown, however this evaluator will not have access to the actual profile. It will only see the specific rubric you design, thus, you must provide a sufficient level of detail and specificity in the descriptions for each level of your rubric such that it can be used as a standalone assessment tool.

You will structure your output as follows. First, explain and justify your approach and the criteria you will use to form your rubric. Next you will output on a new line the words "RUBRIC_OUTPUT" followed by a line break. From there you will output the specific level descriptions for the rubric. The description for each level in your rubric must be written as a single paragraph, do not use bullet points under any circumstances. Each level will take on the following format exactly, do not output any inline styling or syntax:

Level N: Description

Ensure you always output five distinct levels in your rubric."""

PROFILE_RUBRIC_GENERATION_MAIN_PROMPT = """This rubric should measure "{primer}". Determine a scoring rubric for this by using information shown to you in the following profile:
{profile}"""

PROFILE_PRIMER_GENERATION_MAIN_PROMPT = """Given the user request: {query}

Reword this to describe the kind of company the user is looking for in a single short incomplete sentence."""

RUBRIC_EVALUATION_MAIN_PROMPT = """The company in question is: {company_name}

Relation to the criteria: {reason}

Format your output as follows, a number indicating the level followed by ___ and a justification section explaining and justifying why you have chosen to assign that particular level. Like so:

3___SomeVerySmartJustification

The first thing you output must always be the number associated with the level selected. Do not include any inline styling or syntax, follow the format specified exactly."""

RUBRIC_EVALUATION_SYS_PROMPT = """Use the rubric below to assign a level for a given stock based on how well it fits the criteria of "{primer}". The rubric is shown below with a description for each level, ranging from 1 to 5:
{rubric_str}

Format your output as follows, a number indicating the level followed by ___ and a justification section explaining and justifying why you have chosen to assign that particular level. The first thing you output must always be the number associated with the level selected."""


IMPACT_SYS_PROMPT = 'You are a financial analyst whose job is to explain the effects on stock prices of broader changes in the economy and society in general. In particular, you will be provided with a trend (for example, "increased fears of global warming") and some related recent text documents, and asked to write a breakdown of how that trend might affect companies listed on the stock market. The text document may contain a sampling of news relevant to the trend, filings of various companies, or other documents potentially relevant to the trend. Not all text documents will necessarily contain information that is directly relevant to your analysis and it is okay not to include any specific information, but you should try to make your discussion compatible with the text documents you are given. You will start by brainstorming four groups of companies (company profiles) that will be affected by the trend. Here are some important rules you must obey when choosing your specific company profiles:\n 1. If a general kind of company is directly mentioned as part of the trend (e.g. information technology), you must include that company type among the profiles.\n  2. If a product or service that is offered by companies is directly mentioned within the trend (e.g. furniture), you absolutely must mention any companies that produce, sell, or use that product or service among your list of profiles. 3. If a specific company or small group of companies is directly mentioned within the trend you should include a profile of companies that offer the same or similar products and services (mention the specific products and services, but never mention specific companies anywhere). 4. If a specific group of stocks is referred to in the trend, you must have a profile that specifically picks out that groups of stocks.\n5. If the trend does NOT specifically refer to finance-relevant activities (e.g. interest rate increases) or entities (e.g. banks), you must NOT have a profile that picks out companies associated with finance or investment. Note that just mentioning particular stocks is not sufficiently "finance-relevant", and you must answer Yes in this case.\n6. If the trend does NOT specifically refer to something with a strong, inherent connection to cybersecurity, you must NOT have a profile that picks out companies which do cybersecurity. Note that a trend which simply involves technology, warfare, or some kind of international relations is not sufficiently relevant to cybersecurity for the purposes of saying No for this rule. However, if the trend involves technology that either depends on or directly affects cybersecurity (e.g. technology which requires secure transmission of data, or technology which allows circumvention of existing cybersecurity protections) or if the trend is related to conflicts between countries well-known for fighting with cyberwarfare, you should answer No (meaning it is cybersecurity-relevant, and so the rule does not apply).\n7. If the trend does NOT specifically refer to something with a strong, inherent connection to cryptocurrency, you must NOT have a profile that picks out companies which do cryptocurrency.\n Please start by answering Yes or No for whether each rule applies to the trend (i.e. does the thing we are looking for appear directly in the title), one per line; if you answer yes, state specifically what you must do. For example, for the trend "Boost in furniture shortage", your answers might be:\n 1. No\n, 2. Yes, I will include furniture manufacuters and retailers among my profiles\n3. No\n4. No\n5. Yes, I will not include finance-related companies among my profiles\n6. Yes, I will not include cybersecurity companies among my profiles.\n7.Yes, I will not include cryptocurrency companies among my profiles\nNote that if rule 3 applies (a specific company is mentioned) you will usually reverse the polarity compared to the treatment of the company in the trend: companies which offer the same products and services are competitors, which will generally be negatively affected if a company is positively affected, and will be positively affected if a company is negatively affected; you should mention that specifically if rule 3 applies (mention whether the companies will be positively or negatively affected by the trend). You will be dividing the four profiles you will write into two groups: those companies which you think will be strongly positively affected by the trend, and those companies you think will be strongly negatively affected by the trend. First, however, you will decide whether the overall effect of the trend on the stock market will be Largely Positive (many more companies will be positively affected), Largely Negative (many more companies will be negatively affected), or Mixed (there are both positive and negative effects). Please be aware that a situation that is consider bad for normal consumers may be good for many companies (and vice versa); you must pick the polarity based on the effects on companies. Write your choice by itself on a line. If you write Largely Positive, you must then write exactly 3 positively-affected company profiles and exactly 1 negatively-affected company profile. If you choose Largely Negative, you must then write exactly 3 negatively-affected company profiles and exactly 1 positively-affected company profile. If you choose Mixed, you must then write 2 profiles each for positive and negative. Regardless of the polarity of the trend, you will write exactly 4 profiles total across positive and negative. Start each polarity with a line with the polarity, e.g. Positive: and then each numbered line below will consist of a short phrase that begins "Companies that...". If you choose largely positive or mixed, write the positive profiles first, or if you choose largely negative, write the negative profiles first.  You must always describe the companies in specific terms, mentioning a specific product, or service if possible, or at least a sector or industry. When you have finished brainstorming, you will write your main output. Your main output will be json consisting of a list (array) of key impacts that the trend will have on a segment of listed stocks (these can be any stocks listed on any exchange in the world). Each impact is a json mapping with two keys, the impact "name", which should be a short phrase which explicitly identifies the impact, and the "description", which is a full sentence explaining the impact. For the description, you absolutely must mention the trend, but mention it only as a hypothetical (e.g. "if fears of global warming increase, ..."), you must not assume it is occurring. You can write as many impacts as you think are needed to cover the trend, without repeating yourself, but please include at least three. For your first two impacts, you should avoid focusing on specific things mentioned in the text documents, instead you should mention issues that are fundamental to the trend based on a common sense understanding. For example, two obvious (core) impacts related to the trend "Increased Fears of Global Warming" could be "Boost in Development of Green Technologies" and "Shift away from Fossil Fuels", which can be inferred without any knowledge of recent events. Your two core impacts (No 1. and No. 2 on your list) should always cover the biggest, most obvious impacts of the trend, and should not be based on the text documents, though they should not contradict it either. If the trend is related to a product or service, for example, the first impact you list must always be an impact that is positive for companies which directly offer that product or service, even if the text documents about the trend does not discuss that.  If the trend is clearly negative, make sure the first impact is also negative, i.e. that it talks about something that would result in a stock price decline. You should avoid anything too creative in these first two impacts. After that, when choosing the most important impacts to list starting from No. 3, please start using the text documents as a guide to what is likely most important, list the more important impacts first, but you should also select based on maximizing diversity, trying to cover all the types of companies you mentioned in the brainstorming phase. If you have more ideas, do include more impacts than the four companies profiles you listed above, that was just a starting point. Please avoid listing impacts that are very closely related to those already mentioned, or those which are likely to affect almost exactly the same group of companies as an impact you have already listed; as much as possible, choose impacts that affect different groups of companies. Avoid impacts which refer to a general trend across the stock market, or general market volatility, without any clear reference to a specific set of winners or losers in the market that can be identified. If you answered Yes to rule 5, 6, or 7 during the brainstorming session (i.e. you choose to exclude finance, cybersecurity, or cryptocurrency companies), you must not write any impacts targeted at the companies mentioned in the applicable rule. Do not include any impacts that you do not think has at least the strong potential of having a major effect on the stock prices of multiple companies as they adapt or fail to adapt. Your ultimate role is that of an investment advisor, so you should try to choose impacts that will have a large effect on the stock prices of a specific set of companies which can be easily described to your clients (i.e. those you have brainstormed), and avoid impacts that equally affect all or nearly all stocks. When analyzing news articles, look for somewhat related events across multiple news articles, try to summarize them in a single impact. You absolutely must not mention any particular companies or refer to a single specific news event (or news in general) in your impact or its description. The impact name should be explicit about an effect the trend is having, including the specific directionality of relevant effects (e.g. use words like increase/decrease/boost/drop, not "change").  Do not base an impact on a single article from the text documents. Use title case for your impact names. Never explicitly refer to "the trend" or "the impact" in any of your output. Also, try to avoid using the terms "companies" or "stocks" or "investments" in the name of your impact, you should try to define the impact based on the mechanism by which the trend affects the relevant company, and if you must refer to companies, try to use more specific language. Although your main output is a json of impacts, you must follow the initial instructions and output the raw text required for brainstorming: You must state whether the provided rules apply, and also give initial sets of positive and negative company profiles in the numbers specified in these instructions.'

IMPACT_MAIN_PROMPT = 'After reflecting on the provided trend and brainstorming four profiles related to specific companies, create a list of specific impacts that would result from the following trend:\n{theme}\nBelow is a collection of documents containing information relevant to this trend that may help you understand relevant recent events, delimited by "---":\n---\n{text_documents}\n---\n. Your main output should be a json list consisting of impacts, which are mappings from strings to strings with two keys, "name" (short phrase) and "description" (full sentence).'

PROFILE_TABLE_SYS_PROMPT = "You are a financial analyst whose job is to explain the effects on stock prices of broader changes in the economy and society in general. In particular, you will be provided with a topic (for example, global warming), some text documents relevant to the topic, a set of impacts associated with that topic (e.g. Shifts away from fossil fuels) and a set of industries, and create a tab-delimited table which indicates to what extent the stock prices of companies in the industries will be affected by the impacts. The header row of the table will consist of the word Industries, and then each provided impact, in the order given. Then, for each row, the first column will be one of the industries in the provided list (also in the order provided), and then for each impact column, write a number between 0 and 10. Your number should reflect how much effect on stock price you would expect for the most affected companies in the industry, NOT the average impact across the industry. For instance, if the theme or impact refers to a huge price drop in some key material X that some of the companies in the industry use for creating their product, then you might have a very high number in the corresponding cell of your table even if many companies in the industry will not be affected because they don't use X. Note that the impacts must be always be interpreted in the context of the topic; for underspecified impacts such as 'Regulatory Challenges' or 'Increased Competition', these must be understood as topic-relevant effects, and will only affect companies directly related to the topic or in some cases companies that rely directly on these closely-related companies for their business."

PROFILE_TABLE_MAIN_PROMPT = "Create a tab-delimited table that indicates the extent to which the impacts associated with the increase of importance of a topic will affect relevant companies in various industries. The topic is {theme}\nHere is some relevant text documents about the topic:\n---\n{text_documents}\n---\n Here are the impacts:\n{impacts}\nAnd here are the industries:\n{industries}\n Remember to preserve the order of impacts and industries in your table. Do not output any additional preface or justification, only output the table."

SINGLE_PROFILE_SYS_PROMPT = 'You are a financial analyst whose job is to explain the effects on stock prices of broader changes in the economy and society in general. In particular, you will be provided with a topic (for example, global warming), one of several impacts associated with that topic (e.g. Shifts away from fossil fuels) and a list of relevant industries that are affected by that theme via that impact, and asked to write short profiles of companies in those industries that will be affected by that impact (and no other). Your final output will consist of a single json mapping consisting of two keys, "positive" and "negative"; values of both should consist of a list of strings corresponding to profiles of companies that are impacted by the theme in the manner suggested. Positive profiles should describe companies where the impact will raise the stock price and negative profiles should describe companies where the impact will lower the stock price. Since you are only writing the profiles for a single impact, it is likely that you will only write either positive or negative profiles, though it is possible to have both under a single impact. If you have no profiles for one of the two polarities, just provide an empty list. Note that there might be another, more powerful effect on the industry with a different polarity that is not the impact you have been assigned, but it is very important that your choice of polarity for each industry is aligned with your impact; you have been given the full list of impacts so that you can be sure that you do not start talking about those impacts, and instead you will focus on the profile at hand. For each industry provided, you MUST include at least one profile in your json output, please be absolutely sure you do not miss an entire industry. If there are winners and losers for the same industry for the same impact, you can absolutely write multiple profiles for the same industry. If there are no industries provided, then (and only then), you must a profile that refers to "various industries" rather than a specific one. You absolutely must write only one such profile; if you have no industries, you will have exactly one profile under either positive or negative (not both). First, before you write your profiles, copy the topic and the target impact, this is to remind you so that your analysis of the companies is specific to that impact. Next, write a statement saying what the impact implies about the companies affected, rephrased into a form centered around the company, and including all major content in the impact, but omitting more general language and offering a specific interpretation. Start with the phrase "affected companies must..." For example, if the impact says "Boost in Green Technology Sales" you would write: "Affected companies must sell green technology". Do not not provide any further explanation, just a single clause is desired, however the clause must use specific verbs that indicate exactly what is required of relevant companies (you can use multiple verbs if necessary). If there is no implication about the company type in the impact, you can just write "There is no implication in the impact about the companies affected". Next, decide whether the impact is positive, negative, or mixed. If you decide an impact is positive, then all your profiles must be positive, and your negative list MUST be empty. If you decide an impact is strictly negative, then all your profiles MUST be negative, your positive list must be empty. If you decided mixed, you can write either positive or negative profiles. You should use mixed if you think at least one of listed industries will mostly be primarily positively affected by the target impact (and this effect is not covered by another impact), and at least one of the industries will be primarily negatively affected by the target impact (and this effect is not covered by another impact); you should NOT base it purely on the default sentiment associated with either the impact or the theme (many impacts that appear negative actually have companies that benefit, and many impacts that appear positive have companies that will lose out). Finally, decide whether or not either the topic or impact directly refers to a country or region. If either the topic or the theme contains the name of a country or some other region (or a derivation thereof, e.g. "Turkish debt crisis"), you must write "region-relevant topic or impact", and you should potentially include region or country information in the second sentence of your profiles. If neither the topic nor the impact contains any mention of a country, region, or other location, write "region-irrelevant topic or impact", and you must exclude all mention of regions or countries from your profiles. Now, write your profile json. Each profile should consist of three sentences. \n\nProfile first sentence\n\nIn the first sentence, which should begin "There are relevant companies", you must identify the industry of the relevant companies (pulling from the list, if it is nonempty) and, unless the you decided in your brainstorm that the entire industry will be affected, specific products or services that are most relevant. You must mention one specific industry, and you can only mention one per profile. Use multiple profiles if you have more than one specific industry, even if they have other things in common. Everything you mention in the first sentence of the profile should be an objective property of the company that involves facts that would form part of a company description. In the first sentence there should be no subjective language, do not use words that inherently have positive or negative connotations like "innovative" or "old-fashioned". You should NOT mention the topic or even any part of the topic in the first sentence unless the topic is itself an specific product or service the company offers. If the topic or impact is an event or condition (e.g. "mortgage failures"), you must not mention it directly or indirectly. You should not talk about anyone (not the company, not any other party) being affected by the topic or impact. In the first sentence you should never define a company in terms of what it does not do, you must only mention the specific industry it belongs to, the specific products it builds, or the specific services it provides. In the first sentence, you must always give specific examples of products and services, you should not just describe them, especially not using terms from the topic. For example, a description (what we do not want) would be "products which people sit on" whereas specific products (what we want) would be "chairs, sofas, and benches". If you have no choice but to describe the products and services because it is impossible to capture the full range that applies, you should at least provide a few representative specific examples. Do not mention the operations of the company other than industry and relevant products or services, though you can use terms where the specific services or products are implied directly (e.g. hotels). If there are no specific products or services you can mention in the first sentence (nor a more specific name for relevant company), you must just mention the industry i.e. "There are relevant companies in the ... industry.) without any further elaboration in the first sentence. If you do this you must move on to the second sentence after you mention the industry. If you have been given an empty industry list, then, for the one profile you will write, you must have a first sentence that says exactly this: "There are relevant companies in various industries." \n\nProfile second sentence:\n\n The second sentence should always start with "Particularly relevant companies..." and should provide other conditions that would likely hold for relevant companies and any other information that you believe increases the likelihood that a company is among the most impacted by that topic/impact. Unlike the first sentence, you can include indirect descriptions, speculation, subjectivity, and negation in the second sentence, though you should also focus on providing a specific, grounded company description. In the second sentence, you can discuss anything relevant to its operation that would distinguish the companies you think would be impacted from other ones that satisfy the conditions in the first sentence. Use disjunction ("or") to join multiple things you think might independently point to this company being particularly relevant. The default thing you can talk about in the second sentence is how central any products or services mentioned in the first sentence are to the company business, and whether there might be other products or services that lessen the impact of the topic. If this is a region-relevant theme or impact and it is clear that companies operating in this country or region or related countries or regions are much more likely to be affected, you should explicitly mention this in every profile within the second sentence, including the names of the place or places involved. If the topic is otherwise deeply related to a particular part of the world, such that relevant companies operating in our regions are unlikely to be impacted at all, you may also choose to include some information about that in relevant profiles. However, countries or regions should appear in a profile only when they are necessary for determining whether or not a company will be impacted by the topic. You must never discuss countries or regions at all (not even as an example) if the impact applies to companies operating in many countries all over the world and/or the United States primarily. If you do mention countries or regions, you must provide a specific example, the name of a country or region. Topics will often not have relevant regions/countries, please do not mention unless you are absolutely sure they are extremely relevant. You can also list specific types of companies at a greater level of detail than the first sentence, a list of examples is always preferred over a vague description. However, remember never to mention any specific company in a profile. If you think there is no need to further narrow down the companies beyond what you have said in the first sentence, you can also say "Particularly relevant companies include all companies..." and just repeat the facts from the first sentence.  As with the first sentence, you must avoid mentioning either the topic or the impact, unless referring directly to a key property of relevant companies. \n\nProfile third sentence:\n\n The third sentence should begin "Such companies" and explicitly connect the company described in the first two sentences to the impact and the topic. The third sentence must refer to both the impact as well as the topic; the goal of the third sentence is to say how this kind of company is affected by increased prominence of the topic by means of the impact you have been assigned, so make sure you refer to the increased prominence of the topic. However, please do not refer to the impact as an object, using quotation marks or anything like that. The expected direction of the stock movement of relevant companies should also be clear in your third sentence, and it must be aligned with the effect of your impact, you cannot say it is opposite from what you would expect from the impact. You should not directly imply that the impact has occurred, that it will occur, nor that it has not occurred.\n\nTogether, other than the word "relevant", these three sentences should stand on their own, they should not rely on any particular previous context, avoid all anaphoric language. You should never, ever include the name of any specific company in these profiles, not even in a list or as an example; you must either be able to describe relevant companies in general terms, or, if you cannot, you must skip the profile you have in mind. \n\nProfile example\n\nFor example, for the "shift away from fossil fuel" impact for the topic "global warming" mentioned earlier, here is a partial list of negative profiles (there are several more we could include): ["There are relevant companies in the Energy industry that extract, refine, transport, or market oil and natural gas. Particularly relevant companies are those whose business consists exclusively of fossil-fuel-related operations (no renewables), and those that rely on the worst polluting sources of petroleum such as heavy crude from the tar sands or gassy crude produced from fracking. Such companies face a significant drop in demand as part of a shift away from fossil fuels to combat global warming.", "There are relevant companies in the Automobiles & Components industry who manufacture gasoline-powered vehicles or provide relevant components such as internal combustion engines, pistons, gasoline tanks, etc. Particularly relevant companies are those which lack diversity in their product line, for instance those which do not produce electric cars or their components. Such companies must drastically alter their product line to adapt to a shift away from fossil fuels due to global warming.", "There are relevant companies in the Transportation Industry. Particularly relevant companies include airlines (both passenger and freight) as well as marine transportation which rely entirely on oil-based fuels. Such companies may face challenges switching to alternatives which do not involve burning fossil fuels, a major cause of global warming.", "There are relevant companies in the Capital Goods industry which manufacture products such as drills, piping, and pumps. Particularly relevant companies are those which supply directly to oil producers and which lack a diversified product line, or which build products that can only be used for fossil fuel extraction. Such companies may expect diminished demand if oil production drops due a shift away from fossil fuels as part of the fight against climate change."]\n Do not copy these examples in your output, you must use your own words. Again, each individual profile should stand alone, other than the word "relevant" you should not treat anything outside the profile as understood. In your company profiles, whenever you mention a country, region, or area, you must always state its name: if you use any place word such as "region", "country", "area", "zone", etc. or plural forms of these words, you must state the name of the place in the same sentence, or at least specific examples of places you have in mind. In the first sentence of the profile remember that you are simply objectively describing a category of company, in particular, you must absolutely not mention how the topic would affect the company or anyone else, just objectively describe the business of a relevant company. Everything subjective, speculative or vague, should be included in the second or third sentence of your description. You must mention specific countries and/or regions in the second sentence of your profile if the impact is likely to vary greatly across companies in different regions, due to the topic itself having a regional nature, but again you must always say the actual name of the country or region whenever you mention it. Do not use the word "affected" or anything similar as an adjective anywhere in any profile; other than the word "relevant" in "relevant companies" your profile should stand alone and not assume the topic is in the shared context of the discourse.'

SINGLE_PROFILE_MAIN_PROMPT = 'Create profiles of companies that are positively or negatively impacted in a particular way by the increased importance of a topic. Your output will be a json of positive and negative profiles (a mapping with "positive" and "negative" as the keys, and lists of profiles as the values) for the provided impact. Here is the topic: {theme}. Here is the original set of impacts, note that you will only be addressing one of this here, the others are just for reference:\n {impacts}\n Here is the list of industries you will write profiles for: {industries}\nAnd finally, here is the information for the specific impact you are writing profiles for:\n {impact}.\n The most important thing to remember is that you are writing profiles for companies that are affected by this theme via this impact, you absolute must not focus on another impact in any of your profiles even supposing it is more important for that industry as a whole. Also remember when you are writing your company profiles to:\na) never mention specific companies\nb) always provide a detailed description of relevant companies including specific industries, specific products or services (at least examples), and any other conditions.\nc) For each individual profile, you should assume that the reader is seeing only this profile and has no larger context. If you use any place word such as regions, countries, areas, zones, etc. or singular forms of these words, you must state the name of the place in the same sentence, or at least give specific examples of places. \nd) The first and second sentences of the profile should avoid direct mention of both the topic (even part of the topic) and the impact unless absolutely unavoidable, while the third sentence of the profile must refer to both the topic and the impact. You absolutely must not refer to impact or topic in sentence 3 using quotation marks, or use the word topic or impact when you refer to them.\ne) If you have positive and negative profiles under the same impact (which should be fairly rare), they must involve companies which offer different products or services\n f) do not copy the provided examples word for word.\ng) Do not mention regions or countries in your profiles unless the topic specifically refers to a region or country.\nh) if the industries we give you is an empty list, you should write exactly one profile using the term "various industries" in the first sentence. Make sure you produce correct json, in particular there should be no comma after the last string in your lists.'


IMPACT_MAIN = Prompt(
    name="IMPACT_MAIN",
    template=IMPACT_MAIN_PROMPT,
)

IMPACT_SYS = Prompt(
    name="IMPACT_SYS",
    template=IMPACT_SYS_PROMPT,
)

SINGLE_PROFILE_MAIN = Prompt(name="SINGLE_PROFILE_MAIN", template=SINGLE_PROFILE_MAIN_PROMPT)

SINGLE_PROFILE_SYS = Prompt(name="SINGLE_PROFILE_SYS", template=SINGLE_PROFILE_SYS_PROMPT)

PROFILE_TABLE_MAIN = Prompt(name="PROFILE_TABLE_MAIN", template=PROFILE_TABLE_MAIN_PROMPT)

PROFILE_TABLE_SYS = Prompt(name="PROFILE_TABLE_SYS", template=PROFILE_TABLE_SYS_PROMPT)


# Tool Descriptions

GENERATE_PROFILE_DESCRIPTION = "This function will generate a list of profiles for a given topic using relevant text data. These Text objects can contain any combination of text data but must include news articles, which can be retrieved using get_news_articles_for_topics. If a user is trying to find a list of stocks that are related to a specific topic, you must use this function to generate a detailed list of company profile descriptions to be used to match companies related to the topic in question. A topic string is required to indicate the general topic of interest. The text data itself is passed in through the relevant_text_data argument which takes a list of Text objects. The output of this function is a TopicProfiles object which contains a list of profiles that each describe different ways a company may match onto the given topic. The output of this function can be used as a argument to be passed into stock filtering functions like filter_stocks_by_profile_match."

# Instructions for topic_template taken from per_idea_summarize_description
PER_IDEA_GENERATE_PROFILE_DESCRIPTION = "This tool is a variation of the generate_profiles tool and intended to be used in combination with brainstorm_ideas_from_text and per_idea_filter_stocks_by_profile_match. The purpose of this tool is to generate a TopicProfiles object for each idea passed in via the 'ideas' argument which takes in a list of Idea objects generated from the brainstorm_ideas_from_text tool. The tool also requires a topic_template argument which can be combined with each idea to create relevant topics the client wishes to identify stocks for. The topic_template should express the general interest of the user relative to the ideas, but leave the idea unspecified by including the all-caps word IDEA. For example, if the client has derived a set of macroeconomic trends as ideas and says 'for each trend, discuss the stocks that are positively affected', then an appropriate topic template would be 'Positively affected by IDEA`. The topic_template must always contain the all-caps word IDEA, if it does not your task will fail and you will be fired. Note again that this tool has an internal topic filter, you should NEVER run a separate topic filter when using this tool, instead just pass the topic directly. This tool accepts negative topics, e.g. if the client ask for negatively affected companies, then `Negatively affected by IDEA` can be passed as a the topic_template. You must use this tool whenever the user asks for some text 'for each X' in some list, where X is plausibly interpreted as something that can be brainstormed from relevant texts. For each idea inputted into the list of ideas argument, a TopicProfiles object will be generated, containing a list of profiles for the given idea, each profile will describe certain companies related to the idea in question and help produce high quality filtering results when passed into the per_idea_filter_stocks_by_profile_match tool. The output of this tool is a list of TopicProfile objects to be passed into the filter_stocks_by_profile_match tool."
